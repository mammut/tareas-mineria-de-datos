%----------------------------------------------------------------------------------------
%	Paquetes y configuración
%----------------------------------------------------------------------------------------
\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[spanish,es-lcroman]{babel}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{extramarks}
\usepackage[usenames,dvipsnames]{color}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xparse}
\usepackage{courier}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage{lipsum}
\usepackage{float}
\usepackage{algorithm}
\usepackage{algpseudocode}
\floatplacement{figure}{H}

% Margenes
\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

% Header y footer
\pagestyle{fancy}
\lhead{}
\chead{\tareaRamo\ (\tareaProfesor): \tareaTitulo} % Centro
\rhead{\firstxmark}
\lfoot{UTFSM CSJ - Departamento de Informática}
\cfoot{}
\rfoot{Página\ \thepage\ de\ \protect\pageref{LastPage}} % Pagina
\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}

\setlength\parindent{0pt} % Eliminar la indentación

%----------------------------------------------------------------------------------------
%	Inclusión de python con systax highlight
%----------------------------------------------------------------------------------------
\renewcommand\lstlistingname{Script}
\renewcommand\lstlistlistingname{Scripts}

\definecolor{MyDarkGreen}{rgb}{0.0,0.4,0.0}
\lstloadlanguages{Python}
\lstset{
  language=Python,
  frame=single, % Single frame around code
  basicstyle=\small\ttfamily, % Use small true type font
  keywordstyle=[1]\color{BlueViolet}\bf, % Function names
  keywordstyle=[2]\color{Purple}, % Arguments
  keywordstyle=[3]\color{Blue}\underbar,
  identifierstyle=,
  commentstyle=\usefont{T1}{pcr}{m}{sl}\color{MyDarkGreen}\small,
  stringstyle=\color{Purple},
  showstringspaces=false,
  tabsize=5,
  morekeywords={rand,},
  morekeywords=[2]{on, off, interp},
  morekeywords=[3]{y, range},
  morecomment=[l][\color{Blue}]{...},
  numbers=left,
  firstnumber=1,
  numberstyle=\tiny\color{Gray},
  stepnumber=1
}

\newcommand{\python}[2]{
  \begin{itemize}
    \item[]\lstinputlisting[language=Python,caption=#2,label=#1]{#1.py}
  \end{itemize}
}

%----------------------------------------------------------------------------------------
%	Meta Información
%----------------------------------------------------------------------------------------
\newcommand{\tareaTitulo}{Tarea\ 1}
\newcommand{\tareaFecha}{\today}
\newcommand{\tareaRamo}{INF391 Reconocimiento\ de\ Patrones\ en\ Minería\ de\ Datos}
\newcommand{\tareaProfesor}{Marcelo\ Mendoza}

%----------------------------------------------------------------------------------------
%	Título
%----------------------------------------------------------------------------------------
\title{
  \Large\textmd{\textbf{\tareaRamo\\ \tareaTitulo}}\\
  \vspace{0.1in}
  \normalsize
  Universidad Técnica Federico Santa María, Campus San Joaquín\\
  Departamento de Informática\\
  \vspace{0.1in}
  \small{\textsc{\tareaFecha}}\\
  \vspace{0.1in}
  \large{\textsc{Profesor Marcelo Mendoza}}
}

\author{
    \textit{Juan Pablo Escalona} \\
    \small{juan.escalona@alumnos.usm.cl} \\
    \small{201073515-k}
    \and
    \textit{Rafik Mas'ad} \\
    \small{mailrafik@alumnos.usm.cl} \\
    \small{2010735XX-X}
    \and
    \textit{Gianfranco Valentino}\\
    \small{mailgina@alumnos.usm.cl}\\
    \small{2010735XX-X}
}
\date{}

%----------------------------------------------------------------------------------------
% Documento
%----------------------------------------------------------------------------------------
\begin{document}

\maketitle
% \newpage

%----------------------------------------------------------------------------------------
% Índice
%----------------------------------------------------------------------------------------
% \setcounter{tocdepth}{3}
% \newpage
% \tableofcontents
% \newpage

%----------------------------------------------------------------------------------------
% Desarrollo
%----------------------------------------------------------------------------------------
\section*{Introducción}

\lipsum[3]

\section*{Implementación y análisis}

\subsection*{1.1. \; k-means}
Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Ut purus elit, vestibulum ut, placerat ac, adipiscing vitae, felis. Curabitur dictum gravida mauris. Nam arcu libero, nonummy eget, consectetuer id, vulputate a, magna. Donec vehicula augue eu neque.

\begin{algorithm}[H]
  \begin{algorithmic}[1]
    \Procedure {K-means}{$\{\vec{x}_1,\dots,\vec{x}_m\}$, K}
    \State $(\vec{s}_1,\vec{s}_2,\dots\vec{s}_K,) \leftarrow \textsc{SelectRandomSeeds}(\{\vec{x}_1,\dots,\vec{x}_m\}, K)$
    \For{$k \leftarrow 1 \textbf{ to } K$}
        \State $\vec{c}_k \leftarrow \vec{s}_k$
    \EndFor

    \While{ criterio convergencia no cumplido }
      \For{$k \leftarrow 1 \textbf{ to } K$}
        \State $C_k \leftarrow \{\}$
      \EndFor
      \For{ $i \leftarrow 1 \textbf{ to } m$ }
        \State $ k \leftarrow \text{Min}_k \; \left\|\vec{c}_k - \vec{x}_i\right\| $ \Comment{encontrar el centroide mas cercano}
        \State $ C_k \leftarrow C_k \cup \{\vec{x}_i\}$ \Comment{agregar al cluster}
      \EndFor
      \For{ $ k \leftarrow 1 \textbf{ to } K$ }
        \State $\vec{c}_k \leftarrow \frac{1}{m_k}\sum_{\vec{x}\in C_k}{\vec{x}}$ \Comment{recomputación de centroides}
      \EndFor
    \EndWhile
    \State \Return $\{C_1, \dots, C_K\}$
    \EndProcedure
  \end{algorithmic}
  \caption{k-means}
  \label{kMeans}
\end{algorithm}

\section*{Conclusiones}

\lipsum[3]

\section*{Referencias}

  \begin{itemize}
    \item Sauer, Timothy (2011). Numerical Analysis. 2nd ed. Pearson.
  \end{itemize}

\section*{Anexo}

  % \python{../Codigos/p2}{Pregunta 2. Comparacion métodos numericos para eigenvalues}
  % \python{../Codigos/p3}{Pregunta 3. }

\end{document}
